<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="images/cmd-icon.png" type="image/x-icon">

    <!-- GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="images/icons/titlebar/terminal-icon.png" type="image/x-icon">
    <title>&gt; TERMINAL</title>
</head>
<body>
    
    <header class="page-title">
        <section>
            <h1>&gt; TERMINAL</h1>
        </section>
        <section>
            <div class="page-login"></div>
            <div class="page-signup"></div>
        </section>
        
        
    </header>

    <main>
        <article id="desktop"></article>
    </main>

    <footer></footer>

    <script type="module">

        import Vec2 from "./modules/Vec2.mjs";
        import BaseWindow from "./modules/BaseWindow.mjs";
        import Terminal from "./modules/Terminal.mjs";
        import Desktop from "./modules/Desktop.mjs";
        import NameTree from "./modules/NameTree.mjs";
        import {FileSystem, Directory, TextFile} from "./modules/FileSystem.mjs";

        // Tree testing
        
        const testTree = new NameTree(new Directory("C:"), "C:");
        testTree.addChild("Program Files", new Directory("Program Files"));
        testTree.addChild("Users", new Directory("Users"));
        testTree.addChild("Windows", new Directory("Windows"));
        testTree.addChild("testDelete.png", new TextFile("testDelete.png", "contains nothing"));

        testTree.addChild("defaultuser0", new Directory("defaultuser0"), ["Users"]);
        testTree.addChild("Mike Oxmall", new Directory("Mike Oxmall"), ["Users"]);
        testTree.moveTo(["Users"]);
        testTree.addChild("Mike Oxbig", new Directory("Mike Oxbig"));
        testTree.moveTo(["Mike Oxbig"]);
        testTree.addChild("Photos", new Directory("Photos"));
        testTree.moveTo(["Photos"]);
        testTree.addChild("lol", new TextFile("lol.png", "haha"));

        testTree.addChildAbsolute("System32", new Directory("System32"), ["Windows"]);
        testTree.printLevels();
        testTree.moveTo(["Photos"]);
        testTree.moveToAbsolute();
        console.log(testTree.getCurrentPath().join('\\') + '>');
        var testSystem = new FileSystem(testTree);

        // Webpage setup
        const desktop = document.getElementById("desktop");
        const game = new Desktop(desktop);

        const terminal = new Terminal(desktop, 0, testSystem);
        const testWindow = new BaseWindow(desktop, 0);

        game.registerWindow(terminal.getBaseWindow());
        game.registerWindow(testWindow);

    </script>
</body>
</html>


